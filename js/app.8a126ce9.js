(function(t){function e(e){for(var n,s,c=e[0],o=e[1],l=e[2],d=0,f=[];d<c.length;d++)s=c[d],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&f.push(a[s][0]),a[s]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);u&&u(e);while(f.length)f.shift()();return r.push.apply(r,l||[]),i()}function i(){for(var t,e=0;e<r.length;e++){for(var i=r[e],n=!0,c=1;c<i.length;c++){var o=i[c];0!==a[o]&&(n=!1)}n&&(r.splice(e--,1),t=s(s.s=i[0]))}return t}var n={},a={app:0},r=[];function s(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=t,s.c=n,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(i,n,function(e){return t[e]}.bind(null,n));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/weather/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=o;r.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"034f":function(t,e,i){"use strict";i("85ec")},"0bf5":function(t,e,i){"use strict";i("13ed")},"13ed":function(t,e,i){},1510:function(t,e,i){"use strict";i("66d9")},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("2b0e"),a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("router-view")],1)},r=[],s={name:"App",components:{},data:function(){return{}}},c=s,o=(i("034f"),i("2877")),l=Object(o["a"])(c,a,r,!1,null,null,null),u=l.exports,d=i("8c4f"),f=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"weather"},[i("vue-confirm-dialog"),t.settings?i("v-icon",{staticClass:"weather__settings",attrs:{large:"",color:"green darken-2"},on:{click:function(e){t.settings=!t.settings}}},[t._v(" close ")]):i("v-icon",{staticClass:"weather__settings",attrs:{large:"",color:"green darken-2"},on:{click:function(e){t.settings=!t.settings}}},[t._v(" settings ")]),t.settings?i("WidgetSet"):i("v-card",{attrs:{elevation:"2"}},t._l(t.cities,(function(t,e){return i("WidgetData",{key:e,attrs:{city:t}})})),1)],1)},m=[],p=(i("99af"),i("d81d"),i("b0c0"),i("96cf"),i("1da1")),h=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("v-list-item",{attrs:{"two-line":""}},[i("v-list-item-content",[i("v-list-item-title",{staticClass:"headline",staticStyle:{"font-size":"25px"}},[t._v(" "+t._s(null!=t.weatherAPI?t.weatherAPI.name:"")+", "+t._s(""!=t.weatherAPI?t.weatherAPI.sys.country:"")+" ")])],1)],1),i("v-card-text",[i("v-row",{attrs:{align:"center"}},[i("v-col",{staticClass:"display-3",staticStyle:{"font-size":"60px","line-height":"1.7em","padding-left":"10px"},attrs:{cols:"7"}},[t._v(" "+t._s(t.convertKtoC(t.weatherAPI.main.temp))+"°C ")]),i("v-col",{staticClass:"justify-end flex",attrs:{cols:"5"}},[i("v-img",{staticStyle:{width:"90%"},attrs:{src:t.image,alt:"weather"}})],1)],1)],1),i("v-list-item",[i("v-list-item-subtitle",[t._v("Feels like "+t._s(t.convertKtoC(t.weatherAPI.main.feels_like))+"°C. "+t._s(t.toUpperCaseLetter(t.weatherAPI.weather[0].description)))])],1),i("v-row",{staticClass:"ma-0 pa-0 widget__row"},[i("v-col",{attrs:{cols:"6"}},[i("v-list-item",{staticClass:"widget__list-item"},[i("v-list-item-icon",{staticClass:"widget__item-icon"},[i("v-icon",{style:t.style},[t._v("mdi-send")])],1),i("v-list-item-subtitle",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(t.weatherAPI.wind.speed)+" m/s "+t._s(t.windDirection(t.weatherAPI.wind.deg)))])],1)],1),i("v-col",{attrs:{cols:"6"}},[i("v-list-item",{staticClass:"widget__list-item"},[i("v-list-item-icon",{staticClass:"widget__item-icon"},[i("v-icon",[t._v("cloud")])],1),i("v-list-item-subtitle",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(t.weatherAPI.clouds.all)+"%")])],1)],1)],1),i("v-row",{staticClass:"ma-0 pa-0 widget__row"},[i("v-col",{attrs:{cols:"6"}},[i("v-list-item",{staticClass:"widget__list-item"},[i("v-list-item-subtitle",[t._v("Humidity: "+t._s(t.weatherAPI.main.humidity)+"%")])],1)],1),i("v-col",{attrs:{cols:"6"}},[i("v-list-item",{staticClass:"widget__list-item"},[i("v-list-item-subtitle",[t._v("Pressure: "+t._s(t.weatherAPI.main.pressure)+"hPA")])],1)],1)],1),i("v-divider",{staticClass:"widget__divider"})],1)},v=[],g=(i("fb6a"),i("bc3a")),w=i.n(g),y=i("78db"),_=i.n(y),C={props:["city"],name:"Home",components:{},data:function(){return{weatherAPI:null,loadedData:!0}},watch:{city:function(){this.getWeather()}},computed:{image:function(){return"https://openweathermap.org/img/wn/".concat(this.weatherAPI.weather[0].icon,"@2x.png")},style:function(){return{transform:"rotate(".concat(this.weatherAPI.wind.deg,"deg)")}}},mounted:function(){this.getWeather()},methods:{convertKtoC:function(t){var e=t-273.15;return Math.round(e)},windDirection:function(t){return _()(t)},imgURL:function(){return"https://openweathermap.org/img/wn/11d@2x.png"},getWeather:function(){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,w()({method:"GET",url:"https://api.openweathermap.org/data/2.5/weather?q=".concat(t.city,"&appid=83c3332fba9c1cc0e22641da6260d796")}).then((function(e){t.weatherAPI=e.data,t.loadedData=!0})).catch((function(t){console.log(t)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()},toUpperCaseLetter:function(t){return t[0].toUpperCase()+t.slice(1)}}},b=C,I=(i("913d"),i("6544")),x=i.n(I),S=i("99d9"),O=i("62ad"),P=i("ce7e"),A=i("132d"),L=i("adda"),V=i("da13"),k=i("5d23"),E=i("34c3"),j=i("0fd9"),T=Object(o["a"])(b,h,v,!1,null,null,null),$=T.exports;x()(T,{VCardText:S["a"],VCol:O["a"],VDivider:P["a"],VIcon:A["a"],VImg:L["a"],VListItem:V["a"],VListItemContent:k["a"],VListItemIcon:E["a"],VListItemSubtitle:k["b"],VListItemTitle:k["c"],VRow:j["a"]});var D=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("city-list")},R=[],M=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",{staticClass:"mx-auto widget__citis_list"},[i("h2",{staticClass:"widget__h2"},[t._v("Settings")]),i("draggable",{attrs:{move:t.onMove},model:{value:t.cities,callback:function(e){t.cities=e},expression:"cities"}},t._l(t.cities,(function(e){return i("city",{key:e.index,attrs:{name:e.name},on:{"on-delete":function(i){return t.deleteCity(e)}}})})),1),i("add-city",{on:{"on-new-city":function(e){return t.addCity(e)}}})],1)},W=[],Y=(i("4de4"),i("c7cd"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"widget__city"},[i("v-list-item",[i("v-list-item-avatar",[i("v-icon",{staticClass:"grey lighten-1",staticStyle:{transform:"rotate(45deg)"},attrs:{small:""}},[t._v(" zoom_out_map ")])],1),i("v-list-item-content",{attrs:{calss:"ml-2"}},[i("v-list-item-title",{domProps:{textContent:t._s(t.name)}})],1),i("v-list-item-action",[i("v-btn",{attrs:{icon:""},on:{click:function(e){return t.$emit("on-delete")}}},[i("v-icon",{attrs:{color:"grey lighten-1"}},[t._v("mdi-delete")])],1)],1)],1),i("v-divider")],1)}),J=[],B={data:function(){return{}},props:{name:String},methods:{}},G=B,N=(i("0bf5"),i("8336")),F=i("1800"),H=i("8270"),U=Object(o["a"])(G,Y,J,!1,null,"ffbe003e",null),z=U.exports;x()(U,{VBtn:N["a"],VDivider:P["a"],VIcon:A["a"],VListItem:V["a"],VListItemAction:F["a"],VListItemAvatar:H["a"],VListItemContent:k["a"],VListItemTitle:k["c"]});var K=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-text-field",{staticStyle:{padding:"0 20px 0 25px","margin-top":"15px"},attrs:{placeholder:"Input city"},model:{value:t.newCity,callback:function(e){t.newCity=e},expression:"newCity"}},[i("v-icon",{attrs:{slot:"append",color:"red"},on:{click:t.addCity},slot:"append"},[t._v(" mdi-plus ")])],1)},q=[],Q={data:function(){return{newCity:""}},methods:{addCity:function(){this.newCity.length>0&&this.$emit("on-new-city",this.newCity),this.newCity=""}}},X=Q,Z=(i("1510"),i("8654")),tt=Object(o["a"])(X,K,q,!1,null,null,null),et=tt.exports;x()(tt,{VIcon:A["a"],VTextField:Z["a"]});var it=i("2ef0"),nt=i.n(it),at=i("b76a"),rt=i.n(at),st={props:{listName:String},components:{City:z,AddCity:et,draggable:rt.a},data:function(){return{cities:this.$store.state.cities}},watch:{"$store.state.cities":function(t){this.cities=t},cities:function(t){this.$store.dispatch("moved",t)}},computed:{},mounted:function(){},methods:{addCity:function(t){this.$store.dispatch("addCity",{name:t,index:this.cities.length})},deleteCity:function(t){var e=nt.a.filter(this.cities,(function(e){return e.name!==t.name}));this.$store.dispatch("deleteCity",e)},onMove:function(t){var e=t.relatedContext,i=t.draggedContext,n=e.element,a=i.element;return(!n||!n.fixed)&&!a.fixed}}},ct=st,ot=(i("5aff"),i("b0af")),lt=Object(o["a"])(ct,M,W,!1,null,"25bece06",null),ut=lt.exports;x()(lt,{VCard:ot["a"]});var dt={components:{CityList:ut},data:function(){return{}},watch:{},methods:{}},ft=dt,mt=Object(o["a"])(ft,D,R,!1,null,null,null),pt=mt.exports,ht={name:"Home",components:{WidgetData:$,WidgetSet:pt},data:function(){return{settings:!1,ip:null,cityByIP:null,api_key:"f774956dd97ad12e94e7c7c924a1324e",IsEmptyLocalStore:null}},watch:{IsEmptyLocalStore:function(t){1==t&&this.getIP()}},computed:{cities:function(){return nt.a.map(this.$store.state.cities,(function(t){return t.name}))}},mounted:function(){this.checkLocalStorage()},methods:{showConfirm:function(){var t=this;this.$confirm({title:"Confirm",message:"Are you from ".concat(this.cityByIP,"?"),button:{yes:"Yes",no:"Cancel"},callback:function(e){1!=e?t.settings=!0:t.$store.dispatch("addCity",{name:"".concat(t.cityByIP),index:t.cities.length})}})},getIP:function(){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,w()({method:"GET",url:"https://api.ipify.org?format=json"}).then((function(e){t.ip=e.data.ip,t.defineCity(t.ip)})).catch((function(t){console.log(t)}));case 2:case"end":return e.stop()}}),e)})))()},defineCity:function(t){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,w()({method:"GET",url:"https://api.ipstack.com/".concat(t,"?access_key=").concat(e.api_key)}).then((function(t){e.cityByIP=t.data.city,e.showConfirm()})).catch((function(t){console.log(t)}));case 2:case"end":return i.stop()}}),i)})))()},checkLocalStorage:function(){var t=JSON.parse(localStorage.getItem("cities"));return nt.a.isEmpty(t)?this.IsEmptyLocalStore=!0:(this.$store.dispatch("addFromLocalStore",t),void(this.IsEmptyLocalStore=!1))}}},vt=ht,gt=(i("7392"),Object(o["a"])(vt,f,m,!1,null,"c555c206",null)),wt=gt.exports;x()(gt,{VCard:ot["a"],VIcon:A["a"]}),n["default"].use(d["a"]);var yt=[{path:"/",name:"Home",component:wt}],_t=new d["a"]({mode:"history",base:"/weather/",routes:yt}),Ct=_t,bt=i("2909"),It=i("2f62");n["default"].use(It["a"]);var xt=new It["a"].Store({state:{url:"http://api.openweathermap.org/data/2.5/weather",cities:[]},mutations:{ADD_CITY:function(t,e){t.cities=[].concat(Object(bt["a"])(t.cities),[e])},DELETE_CITY:function(t,e){t.cities=e},MOVED_CITY:function(t,e){t.cities=e},LOCAL_STORAGE:function(t,e){t.cities=e}},actions:{addCity:function(t,e){var i=t.commit;i("ADD_CITY",e),localStorage.setItem("cities",JSON.stringify(this.state.cities))},deleteCity:function(t,e){var i=t.commit;i("DELETE_CITY",e),localStorage.setItem("cities",JSON.stringify(this.state.cities))},moved:function(t,e){var i=t.commit;i("MOVED_CITY",e),localStorage.setItem("cities",JSON.stringify(this.state.cities))},addFromLocalStore:function(t,e){var i=t.commit;i("LOCAL_STORAGE",e)}},modules:{}}),St=i("d30b"),Ot=i.n(St),Pt=i("f309");n["default"].use(Pt["a"]);var At=new Pt["a"]({});n["default"].config.productionTip=!1,n["default"].use(Ot.a),n["default"].component("vue-confirm-dialog",Ot.a.default),new n["default"]({router:Ct,store:xt,vuetify:At,render:function(t){return t(u)}}).$mount("#app")},"5aff":function(t,e,i){"use strict";i("e0fc")},"5e3a":function(t,e,i){},"66d9":function(t,e,i){},7392:function(t,e,i){"use strict";i("9579")},"85ec":function(t,e,i){},"913d":function(t,e,i){"use strict";i("5e3a")},9579:function(t,e,i){},e0fc:function(t,e,i){}});
//# sourceMappingURL=app.8a126ce9.js.map